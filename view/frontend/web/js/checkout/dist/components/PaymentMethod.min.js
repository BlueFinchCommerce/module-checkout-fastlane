import{m as e,a as t,u as a,c as s,b as n,r as o,d as i,e as l,n as d,o as r}from"../FastlaneStore-DLsNq-tn.min.js";var c={name:"FastlanePaymentMethod",data:()=>({errorMessage:"",id:"fastlanePaymentComponent",isMethodSelected:!1,selectedMethod:"fastlane",getTypeByPlacement:!1,paymentTitle:"",paymentType:"fastlane",Agreements:null,ErrorMessage:null,MyButton:null,PrivacyPolicy:null,RadioButton:null,Recaptcha:null,userLoggedIn:!1}),computed:{...e(a,["config","profileData"])},watch:{selectedMethod:{handler(e){null!==e&&e!==this.paymentType&&(this.isMethodSelected=!1)},immediate:!0,deep:!0}},async mounted(){const{default:{components:{Agreements:e,ErrorMessage:t,MyButton:a,PrivacyPolicy:s,RadioButton:n,Recaptcha:o},stores:{useCartStore:i,useConfigStore:l,usePaymentStore:d,useRecaptchaStore:r,useCustomerStore:c}}}=await import(window.geneCheckout.main);this.Agreements=e,this.ErrorMessage=t,this.MyButton=a,this.RadioButton=n,this.Recaptcha=o,this.PrivacyPolicy=s;const y=i(),m=l(),h=d(),u=r(),p=c();this.userLoggedIn=p.isLoggedIn,this.userLoggedIn||(await m.getInitialConfig(),await y.getCart(),this.getTypeByPlacement=u.getTypeByPlacement,this.paymentTitle=h.getPaymentMethodTitle("braintree"),h.$subscribe((e=>{void 0!==e.payload&&void 0!==e.payload.errorMessage&&(this.errorMessage=e.payload.errorMessage)})),this.errorMessage=h.errorMessage,h.$subscribe((e=>{void 0!==e.payload.selectedMethod&&(this.selectedMethod=e.payload.selectedMethod)})),await this.setup(),this.renderFastlanePaymentComponent(`#${this.id}`),this.selectFastlane())},methods:{...t(a,["createPayment","renderFastlanePaymentComponent","setup","unmountComponent"]),async selectFastlane(){this.isMethodSelected=!0;const{default:{stores:{usePaymentStore:e}}}=await import(window.geneCheckout.main);e().selectPaymentMethod("fastlane")}},unmounted(){this.unmountComponent()}};const y=["id"];c.render=function(e,t,a,c,m,h){return e.config.paypal_fastlane_is_active&&m.MyButton&&!m.userLoggedIn?(r(),s("div",{key:0,class:d(["fastlane-payment",{active:m.isMethodSelected}])},[(r(),n(o(m.RadioButton),{text:m.paymentTitle,checked:m.isMethodSelected,class:"fastlane-payment-radio",onClick:h.selectFastlane,onKeydown:h.selectFastlane},null,40,["text","checked","onClick","onKeydown"])),m.errorMessage&&m.isMethodSelected?(r(),n(o(m.ErrorMessage),{key:0,message:m.errorMessage,attached:!1},null,8,["message"])):i("v-if",!0),l("div",{id:m.id,class:d({hidden:!m.isMethodSelected})},null,10,y),m.isMethodSelected?(r(),n(o(m.Agreements),{key:1,id:"fastlane"})):i("v-if",!0),m.isMethodSelected?(r(),n(o(m.PrivacyPolicy),{key:2})):i("v-if",!0),m.getTypeByPlacement("placeOrder")?(r(),n(o(m.Recaptcha),{key:3,id:"placeOrder",location:"fastlane"})):i("v-if",!0),m.isMethodSelected?(r(),n(o(m.MyButton),{key:4,class:"fastlane-payment-button",label:e.$t("Pay"),primary:"",disabled:e.buttonDisabled,onClick:t[0]||(t[0]=t=>e.createPayment())},null,8,["label","disabled"])):i("v-if",!0)],2)):i("v-if",!0)},c.__file="src/components/PaymentMethod.vue";export{c as default};
