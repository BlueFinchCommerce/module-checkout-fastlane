import{m as e,a as t,u as a,c as s,b as i,r as n,d as o,e as l,n as r,o as c}from"../FastlaneStore-L3-Ies60.min.js";var d={name:"FastlanePaymentMethod",data:()=>({errorMessage:"",id:"fastlanePaymentComponent",isMethodSelected:!1,isRecaptchaVisible:!1,paymentTitle:"",paymentType:"fastlane",Agreements:null,ErrorMessage:null,MyButton:null,PrivacyPolicy:null,RadioButton:null,Recaptcha:null}),computed:{...e(a,["config","profileData"])},async mounted(){const{default:{components:{Agreements:e,ErrorMessage:t,MyButton:a,PrivacyPolicy:s,RadioButton:i,Recaptcha:n},stores:{usePaymentStore:o,useRecaptchaStore:l}}}=await import(window.geneCheckout.main);this.Agreements=e,this.ErrorMessage=t,this.MyButton=a,this.RadioButton=i,this.Recaptcha=n,this.PrivacyPolicy=s;const r=o(),c=l();this.isRecaptchaVisible=c.isRecaptchaVisible,this.paymentTitle=r.getPaymentMethodTitle("braintree"),r.$subscribe((e=>{void 0!==e.payload.errorMessage&&(this.errorMessage=e.payload.errorMessage)})),this.errorMessage=r.errorMessage,r.paymentEmitter.on("paymentMethodSelected",(({id:e})=>{e!==this.paymentType&&(this.isMethodSelected=!1)})),await this.setup(),this.renderFastlanePaymentComponent(`#${this.id}`),this.selectFastlane()},methods:{...t(a,["createPayment","renderFastlanePaymentComponent","setup"]),async selectFastlane(){this.isMethodSelected=!0;const{default:{stores:{usePaymentStore:e}}}=await import(window.geneCheckout.main);e().paymentEmitter.emit("paymentMethodSelected",{id:this.paymentType,type:this.paymentType})}}};const y=["id"];d.render=function(e,t,a,d,h,m){return e.config.paypal_fastlane_is_active&&h.MyButton?(c(),s("div",{key:0,class:r(["fastlane-payment",{active:h.isMethodSelected}])},[(c(),i(n(h.RadioButton),{text:h.paymentTitle,checked:h.isMethodSelected,class:"fastlane-payment-radio",onClick:m.selectFastlane,onKeydown:m.selectFastlane},null,40,["text","checked","onClick","onKeydown"])),h.errorMessage&&h.isMethodSelected?(c(),i(n(h.ErrorMessage),{key:0,message:h.errorMessage,attached:!1},null,8,["message"])):o("v-if",!0),l("div",{id:h.id,class:r({hidden:!h.isMethodSelected})},null,10,y),h.isMethodSelected?(c(),i(n(h.Agreements),{key:1,id:"fastlane"})):o("v-if",!0),h.isMethodSelected?(c(),i(n(h.PrivacyPolicy),{key:2})):o("v-if",!0),h.isMethodSelected&&h.isRecaptchaVisible("placeOrder")?(c(),i(n(h.Recaptcha),{key:3,id:"placeOrder",location:"fastlane"})):o("v-if",!0),h.isMethodSelected?(c(),i(n(h.MyButton),{key:4,class:"fastlane-payment-button",label:e.$t("Pay"),primary:"",disabled:e.buttonDisabled,onClick:t[0]||(t[0]=t=>e.createPayment())},null,8,["label","disabled"])):o("v-if",!0)],2)):o("v-if",!0)},d.__file="src/components/PaymentMethod.vue";export{d as default};
