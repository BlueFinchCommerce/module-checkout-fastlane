import{m as e,a as t,u as a,c as s,b as n,r as o,d as l,e as i,n as r,w as d,o as c}from"../FastlaneStore-BLqqJWjo.min.js";
/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const y=Symbol("_vod"),u=Symbol("_vsh"),m={beforeMount(e,{value:t},{transition:a}){e[y]="none"===e.style.display?"":e.style.display,a&&t?a.beforeEnter(e):h(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:s}){!t!=!a&&(s?t?(s.beforeEnter(e),h(e,!0),s.enter(e)):s.leave(e,(()=>{h(e,!1)})):h(e,t))},beforeUnmount(e,{value:t}){h(e,t)}};function h(e,t){e.style.display=t?e[y]:"none",e[u]=!t}var p={name:"FastlanePaymentMethod",data:()=>({errorMessage:"",id:"fastlanePaymentComponent",isMethodSelected:!1,selectedMethod:"fastlane",getTypeByPlacement:null,paymentTitle:"",paymentType:"fastlane",Agreements:null,ErrorMessage:null,MyButton:null,PrivacyPolicy:null,RadioButton:null,Recaptcha:null,userLoggedIn:!1}),computed:{...e(a,["config","profileData"])},watch:{selectedMethod:{handler(e){null!==e&&e!==this.paymentType&&(this.isMethodSelected=!1)},immediate:!0,deep:!0}},async mounted(){const{default:{components:{Agreements:e,ErrorMessage:t,MyButton:a,PrivacyPolicy:s,RadioButton:n,Recaptcha:o},stores:{useCartStore:l,useConfigStore:i,usePaymentStore:r,useRecaptchaStore:d,useCustomerStore:c}}}=await import(window.geneCheckout.main);this.Agreements=e,this.ErrorMessage=t,this.MyButton=a,this.RadioButton=n,this.Recaptcha=o,this.PrivacyPolicy=s;const y=l(),u=i(),m=r(),h=d(),p=c();this.userLoggedIn=p.isLoggedIn,this.userLoggedIn||(await u.getInitialConfig(),await y.getCart(),this.getTypeByPlacement=h.getTypeByPlacement("braintree"),this.paymentTitle=m.getPaymentMethodTitle("braintree"),m.$subscribe((e=>{void 0!==e.payload&&void 0!==e.payload.errorMessage&&(this.errorMessage=e.payload.errorMessage)})),m.setPaymentErrorMessage(""),this.errorMessage=m.errorMessage,m.$subscribe((e=>{void 0!==e.payload.selectedMethod&&(this.selectedMethod=e.payload.selectedMethod)})),await this.setup(),this.renderFastlanePaymentComponent(`#${this.id}`),this.selectFastlane())},methods:{...t(a,["createPayment","renderFastlanePaymentComponent","setup","unmountComponent"]),async selectFastlane(){this.isMethodSelected=!0;const{default:{stores:{usePaymentStore:e}}}=await import(window.geneCheckout.main);e().selectPaymentMethod("fastlane")}},unmounted(){this.unmountComponent()}};const g=["id"];p.render=function(e,t,a,y,u,h){return e.config.paypal_fastlane_is_active&&u.MyButton&&!u.userLoggedIn?(c(),s("div",{key:0,class:r(["fastlane-payment",{active:u.isMethodSelected}])},[(c(),n(o(u.RadioButton),{text:u.paymentTitle,checked:u.isMethodSelected,class:"fastlane-payment-radio",onClick:h.selectFastlane,onKeydown:h.selectFastlane},null,40,["text","checked","onClick","onKeydown"])),u.errorMessage&&u.isMethodSelected?(c(),n(o(u.ErrorMessage),{key:0,message:u.errorMessage,attached:!1},null,8,["message"])):l("v-if",!0),i("div",{id:u.id,class:r({hidden:!u.isMethodSelected})},null,10,g),u.isMethodSelected?(c(),n(o(u.Agreements),{key:1,id:"fastlane"})):l("v-if",!0),u.isMethodSelected?(c(),n(o(u.PrivacyPolicy),{key:2})):l("v-if",!0),d((c(),n(o(u.Recaptcha),{id:"braintree",location:"fastlane"},null,512)),[[m,u.getTypeByPlacement]]),u.isMethodSelected?(c(),n(o(u.MyButton),{key:3,class:"fastlane-payment-button",label:e.$t("Pay"),primary:"",disabled:e.buttonDisabled,onClick:t[0]||(t[0]=t=>e.createPayment())},null,8,["label","disabled"])):l("v-if",!0)],2)):l("v-if",!0)},p.__file="src/components/PaymentMethod.vue";export{p as default};
